<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>


  <th:block layout:fragment="script">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script layout:fragment="script" type="text/javascript" src="/lib/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  </th:block>

  <th:block layout:fragment="css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>gymfitmenu</title>

    <!-- Boxiocns CDN Link -->
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <!-- font style -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link href="/css/layout.css" rel="stylesheet">
<!--    <link href="/css/memberForm.css" rel="stylesheet">-->
<!--    <link href="/css/memberMng.css" rel="stylesheet">-->
<!--    <link href="/css/memberDtoRes.css" rel="stylesheet">-->
<!--    <link href="/css/facilityForm.css" rel="stylesheet">-->
<!--    <link href="/css/facilityMng.css" rel="stylesheet">-->
  </th:block>

</head>
<body>
    <div class="sidebar gf_close">
      <div class="logo-details">
        <i class='bx bx-dumbbell'></i>
        <a href="/GYMFIT/" id="logo_link_style"><span class="logo_name">GYMFIT</span></a>
      </div>
      <ul class="nav-links">
        <li>
          <a href="#">
            <i class='bx bx-grid-alt' ></i>
            <span class="link_name">Dashboard</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="/GYMFIT/">Dashboard</a></li>
          </ul>
        </li>
        <li  sec:authorize="isAuthenticated()">
          <div class="icon-link">
            <a href="#">
              <i class='bx bx-user'></i>
              <span class="link_name" >User</span>
            </a>
            <i class='bx bx-chevron-down arrow' ></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">회원관리</a></li>
            <li><a href="/members/admin/new">회원등록</a></li>
            <li><a href="/members/members">회원조회</a></li>
          </ul>
        </li>

        <li  sec:authorize="isAuthenticated()">
          <div class="icon-link">
            <a href="#">
              <i class='bx bx-id-card' ></i>
              <span class="link_name">Facility</span>
            </a>
            <i class='bx bx-chevron-down arrow' ></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" >이용권관리</a></li>
            <li><a href="/facility/new" >이용권등록</a></li>
            <li><a href="/facility/facilities">이용권조회</a></li>
          </ul>
        </li>

        <li  sec:authorize="isAnonymous()">
          <div class="icon-link">
            <a href="#">
              <i class='bx bx-user' ></i>
              <span class="link_name">BMI</span>
            </a>
            <i class='bx bx-chevron-down arrow' ></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" >BMI</a></li>
            <li><a href="/api/hello" >BMI</a></li>
            <li><a href="/api/hello" >INBODY</a></li>
            <li><a href="/api/hello" >운동추천</a></li>
          </ul>
        </li>


        <li  sec:authorize="isAnonymous()">
          <div class="icon-link">
            <a href="#">
              <i class='bx bx-id-card' ></i>
              <span class="link_name">shop</span>
            </a>
            <i class='bx bx-chevron-down arrow' ></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" >머슬-샵</a></li>
            <li><a href="https://www.myprotein.co.kr/" >고-쇼핑</a></li>
          </ul>
        </li>


        <li  sec:authorize="isAnonymous()">
          <div class="icon-link">
            <a href="#">
              <i class='bx bx-id-card' ></i>
              <span class="link_name">login</span>
            </a>
            <i class='bx bx-chevron-down arrow' ></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" >로그인</a></li>
            <li><a href="/WelcomeGymFit/login" >로그인</a></li>
            <li><a href="/WelcomeGymFit/new-user" >회원가입</a></li>
          </ul>
        </li>




        <li sec:authorize="isAuthenticated()">
          <div class="profile-details">
            <div class="profile-content">
              <img class="profile-img" src="/img/profile.jpg" alt="profile">
            </div>
            <div class="name_job">
              <div class="profile_name" sec:authentication="principal.userNm"></div>
            </div>
            <form th:action="@{/logout}" method="post">
            <button class="logout-button-dk" type="submit">
              <img class="logout-img" src="/img/log-out-regular-24.png">
            </button>
            </form>

          </div>
        </li>



      </ul>
    </div>
    <section class="home-section">
      <div layout:fragment="content" class="content"></div>
    </section>


    <script>
            let arrow = document.querySelectorAll(".arrow");

            for(var i=0; i<arrow.length; i++){
                arrow[i].addEventListener("click", (e)=>{
                    let arrowParent = e.target.parentElement.parentElement;
                    arrowParent.classList.toggle("showMenu");
                });
            }

            let sidebar = document.querySelector(".sidebar");
            let sidebarBtn = document.querySelector(".bx-dumbbell");
            console.log(sidebarBtn);
            sidebarBtn.addEventListener("click", ()=>{
                sidebar.classList.toggle("gf_close");
            });


   </script>
</body>
</html>